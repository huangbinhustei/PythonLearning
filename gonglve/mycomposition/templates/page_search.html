{% extends "layout.html" %}

<script type="text/javascript"></script>

{% block article %}
<div class="list-group">
	<a href="#" class="list-group-item">
		<h2 class="list-group-item-heading">
			{{ query }}<small>的搜索结果</small>
		</h2>
	</a>

	{% for item in res %}
	<a class="list-group-item" href="/view/{{item[1].doc_md}}">
		<p class="list-group-item-heading">
			{{ item[1].title }}
			<small style="color: #999999">&nbsp;·&nbsp;{{ item[0] | string }}</small>
			<span style="float: right; font-size: 0.9em">{{ genre_map[item[1].genre|string] }}&nbsp;&nbsp;·&nbsp;&nbsp;{{ grade_map[item[1].grade|string] }}&nbsp;&nbsp;·&nbsp;&nbsp;{{ item[1].words }}字</span>
		</p>
		<p class="list-group-item-text" style="font-size: 0.8em">
			{{ item[1].content.replace("<p>", "").replace("</p>", "")[:90] }}
		</p>
		<p></p>
	</a>
	{% endfor %}
</div>


<ul class=pager>
	<!-- 翻页器 -->
	{% if paginate.has_prev %}
	<li><a href="/search?query={{ query }}&page={{ paginate.prev_num }}">上一页</a></li>
	{% else %}
	<li class="disabled"><a>上一页</a></li>
	{% endif %}
	<li><a>第 {{ paginate.page+1 }} 页</a>
		{% if paginate.has_next %}
	<li><a href="/search?query={{ query }}&page={{ paginate.next_num }}">下一页</a></li>
	{% else %}
	<li class="disabled"><a>下一页</a></li>
	{% endif %}
</ul>

{% endblock %}

{% block aside %}

{% endblock %}
