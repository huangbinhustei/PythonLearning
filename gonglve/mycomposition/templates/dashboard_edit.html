{% extends "dashboard.html" %}

{% block article %}
<h1>编辑文档</h2>
<form class="form-horizontal" method="post" role="form">
    <div class="form-group">
        <label class="col-sm-1 control-label" for="title">标题</label>
        <div class="col-sm-11">
            <input type="text" name="title" class="form-control" id="title" value={{ entry.title }}>
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-1 control-label" for="content">正文</label>
        <div class="col-sm-11">
            <textarea id="content" class="form-control" rows="40" name="content">{{ entry.content|safe }}</textarea>
            <script type="text/javascript">var editor = new Simditor({textarea: $('#content')});</script>
        </div>
    </div>

    <div class="form-group">
        <label for="gameId" class="col-xs-1 control-label">属性</label>
        <div class="col-xs-11">
            <div class="row">
                <div class="col-xs-2">
                    <select class="form-control" name="grade"  id="grade">
                    {% for k,v in grade_map.items() %}
                        {% if grade_map[entry.grade|string] == v %} 
                        <option selected = "selected" value="{{ k }}">{{ v }}</option>
                        {% else %}
                        <option value="{{ k }}">{{ v }}</option>
                        {% endif %}
                    {% endfor %}
                    </select>
                </div>
                <div class="col-xs-2">
                    <select class="form-control" name="genre" id="genre">
                        {% for k,v in genre_map.items() %}
                            {% if genre_map[entry.genre|string] == v %} 
                            <option selected = "selected" value="{{ k }}">{{ v }}</option>
                            {% else %}
                            <option value="{{ k }}">{{ v }}</option>
                            {% endif %}
                        {% endfor %}
                    </select>
                </div>

                <div class="col-xs-4">
                    <div class="input-group">
                        <span class="input-group-addon">作者</span>
                        <input type="text" name="author" class="form-control" id="author" value={{ entry.author }}>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-1 control-label" for="button"></label>
        <div class="col-sm-11"><button type="submit" class="btn btn-primary">提交修改</button></div>
    </div>
    <br>
</form>
{% endblock %}  