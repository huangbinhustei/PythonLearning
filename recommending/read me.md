
基于题目的相关推荐。

## 版本

##### 基础功能

1. 接入 jieba ，利用 jieba 把需要推荐的文档标题做切词。
2. 依次跑所有的标题，数关键词的出现次数。
3. 把排名前十的列出来。

##### 关于权重

1. 关键词长度作为权重--------全无用处（关键词几乎都是两个字）
2. 将词频的倒数做为权重--------效果有所改进，不过仍然有 badcase（有词频很低的无意义词，比如商城）。
3. 计算某个标题的权重时，不看出现了多少个关键词，而计算出现了多少种关键词--------没有改善。
4. 权重增加 log。
5. query 的前两个关键词，权重增加3（相当于是乘以1000倍），解决了商城问题（问题2）。
6. 将文档列表作为 set 引入（去重），否则重复文档会被多次计算权重。

##### 关于效率

1. 用 heapq 来排序取 topN。
2. 引入词典，替换掉 list--------词典是无序的，没法对权重进行调整（关于权重-问题5被回滚）
	+ 以上两步的收益：提取全文 topn 关键字的时间从4秒缩短到不到20毫秒。

3. 将 “for i in range(len(table))”改写成“for item in table”，收益如下表：

	次数 | 第一次 | 第二次 | 第三次 | 第四次 | 第五次 | 均值
	---- | ---- | ---- |---- | ---- | ----|----
	新时间 | 2.01 | 2.01 | 2.07 | 1.93 | 2.12 | 2.03
	原时间 | 2.91 | 2.76 | 2.76 | 2.75 | 2.79 | 2.79

##### 重写

逻辑全部重写了，分为两部分：

1. 将所有标题切词，按照切好的词记录包含这个词的标题和游戏，做成词典，并计算权重。
2. 需要推荐的文档，直接切词后去查词典，就可以得到相关推荐了，理论上搜索也可以由此解决。

自定义词典用load的方式一直不行，直接用add了。

## 等待跟进：

1. 增加停词表。
2. 看下 tf-idf 的实现。
